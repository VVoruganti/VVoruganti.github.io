{"componentChunkName":"component---src-components-blog-post-js","path":"/windows-with-wsl/","result":{"data":{"markdownRemark":{"html":"<p>I am currently using a Surface Book as my main laptop for everyday work and development.\nInitially, when I was setting up Linux as a dual boot I found that I was not a\nfan of the drastic cut to performance and battery life I would have to commit to.\nSo, I took it upon myself to try and optimize my development environment on Windows,\ndespite it being less than ideal.</p>\n<p>The first thing I did was set up Windows Subsystem Linux (WSL). This is basically\na utility that was built by Microsoft that lets you run a terminal with a full Linux\nkernel while still in Windows. It sort of operates like a virtual machine, but\nyou can access both your Linux and regular Windows file system from within it.\nThere are two versions of this and which one you want to use will vary depending\non your needs</p>\n<p>WSL 1 is the original version which has the benefit of being faster when you are\nmessing with your Windows filesystem, while WSL 2 is the newer one and has better\nperformance in the linux file system.</p>\n<p>I figured I would probably be staying within the Linux file system so I opted to\nuse WSL 2. Now, at the time of writing this, WSL 2 was only available if you used\nthe Windows Insider Build of Windows 10. I also chose to use the Ubuntu version\nof WSL, but you can choose whichever one you like.</p>\n<h2>Terminal Emulator</h2>\n<p>The first thing I wanted to do was find a good terminal emulator that I could\nuse that was fast and customizable. Initially, I was between\n<a href=\"https://conemu.github.io/\">ConEMU</a> and <a href=\"https://github.com/alacritty/alacritty\">Alacritty</a>.</p>\n<p>ConEMU seems to be the more feature-rich application but I found the support for\ncolor customization to be quite lackluster as the color schemes I tried were not\nworking. Also, I found performance with apps like <code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"0\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">vim</span></code> were quite slow. <strong>Alacritty</strong>\nis great because it was built with performance in mind and messing with colors\nwas really straight forward. </p>\n<p>I installed it using chocolatey</p>\n<pre class=\"grvsc-container abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">choco install alacritty</span></span></span></code></pre>\n<p>I then edited my <em>alacritty.yml</em> file to make it open WSL by default and to mess\nwith the color scheme. For me this file was located in\nC:Users{my user}\\AppData\\Roaming\\alacritty.</p>\n<pre class=\"grvsc-container abyss grvsc-mm-tJ07fR\" data-language=\"yaml\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-7 grvsc-tJ07fR-3\">shell</span><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">  </span><span class=\"grvsc-t9ljLd-7 grvsc-tJ07fR-3\">program</span><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">: </span><span class=\"grvsc-t9ljLd-11 grvsc-tJ07fR-8\">wsl</span></span></span></code></pre>\n<p>Another one I messed around with was the\n<a href=\"https://www.microsoft.com/en-us/p/windows-terminal/9n0dx20hk701\">Windows terminal</a>\nwhich was still in beta and experimental at the time. It had pretty could\nperformance, but I found it was still fairly buggy when using TUI application\nor with managing nice color schemes.</p>\n<h2>Tmux</h2>\n<p>The next thing I wanted to do was to configure Tmux to make sure that colors\nstayed the same (I'm a bit of a stickler for color schemes if you haven't noticed).\nI use the <a href=\"https://github.com/voronianski/oceanic-next-color-scheme\">OceanicNext</a>\nColor scheme, but it wasn't really showing up properly in tmux. So I had to edit my\n<code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"1\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">.tmux.conf</span></code> file.</p>\n<pre class=\"grvsc-container abyss grvsc-mm-tJ07fR\" data-language=\"tmux\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">set-option -sg escape-time 10</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">set-option -g default-terminal &quot;tmux-256color&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">set-option -sa terminal-overrides &quot;,*256col*:RGB&quot;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">set-option -ga terminal-overrides &quot;,*256col*:Tc&quot;</span></span></code></pre>\n<p>After that my tmux looked just as beautiful as before.</p>\n<h2>Xserver</h2>\n<p>Finally, I wanted to set up an Xserver so that I could run gui applications from\nwithin WSL. This isn't really perfect but I could. I downloaded an application\ncalled <a href=\"https://sourceforge.net/projects/vcxsrv/\">VcXsrv</a>.</p>\n<p>Now to set it up to work with WSL I set the following\nvariable in my <code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"2\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">.bashrc</span></code>. Just make sure to substitute in your own IP address.\nyou can find it in the command prompt with <code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"3\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">ipconfig</span></code></p>\n<p><strong>NOTE</strong> the ip address given if you run <code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"4\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">ifconfig</span></code> in WSL is different than your\nactual IP address, so make sure you use command <em>prompt</em>.</p>\n<pre class=\"grvsc-container abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-7 grvsc-tJ07fR-11\">export</span><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\"> DISPLAY:{MY IP ADDRESS}:0.0</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-7 grvsc-tJ07fR-11\">export</span><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\"> LIBGL_ALWAYS_INDIRECT=1</span></span></span></code></pre>\n<p>once you reload bash you can startup up VcXsrv and follow the prompt on the first\n2 windows. On the third window make sure you check Disable Access Control</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c95d095f0192324844840cbf9ff850f0/75609/VcXsrv%20Disable%20Access%20Control.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 78.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAB2HAAAdhwGP5fFlAAABrklEQVQ4y6VS2XKCQBDk/z8olVSlEmMQRTywvO8TVBRP0McOPbjm0CrL+NDMsrvT2z0zmuO4mEwm6PcHCA8HHI7HON4J5vj+CtpiscBgMECv18NoNEIYhneTxQgRBEFM2O120W63Ua1Wo1d8rNfrf0NbrVbY7XbY7/cSSfgItOVyCcdxpI5US9LtdvsLdynkp1KpIJlMSqT1VqslkaUgSKocqMi8zWZzAY2Hs9kMtVoN+XwehmEgl8tFXe8L2Cw6GI/H4oKNc11Xkq8qpE1eoqpSqSSKhsOhJCsSRUTwnPuqFBcK+Wk2m2JZ13UUCgWUy2XYtg3LskQt97jmPY4YI9X/ra8Qssu0m0qlUCwWz7aZRKVURBLWlFaZyBxFcLUpvGyapighSNzpdMQia6iaw7JwnwKY85P0bJkNYXcbjYZcZCQJkz3Pk9niaBG3ZlAU8qIah0dADlEoCs4q/BNiRcvz2bcC1k+t/dM6rulG/rUgYr+JgCrieeVD3nwuXZ5NpzF5ROS6jkStUqvjFqr1BvJFG69vCehGGh+fOp6eX5BI6kibWRgZMzp7RyZr4QsYZqLNZHVeuwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"VcXsrv Disable Access Control\"\n        title=\"VcXsrv Disable Access Control\"\n        src=\"/static/c95d095f0192324844840cbf9ff850f0/5a190/VcXsrv%20Disable%20Access%20Control.png\"\n        srcset=\"/static/c95d095f0192324844840cbf9ff850f0/772e8/VcXsrv%20Disable%20Access%20Control.png 200w,\n/static/c95d095f0192324844840cbf9ff850f0/e17e5/VcXsrv%20Disable%20Access%20Control.png 400w,\n/static/c95d095f0192324844840cbf9ff850f0/5a190/VcXsrv%20Disable%20Access%20Control.png 800w,\n/static/c95d095f0192324844840cbf9ff850f0/75609/VcXsrv%20Disable%20Access%20Control.png 994w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>continue through the prompts. Then once the server is running you can launch a program\nlike XFCE and it will appear on the screen.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1585866e7ce759dd6c42f24e58486afb/1307b/Working%20XFCE.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAB2HAAAdhwGP5fFlAAADUElEQVQ4y02T+09bdRiHTzLtZmJE2o0ZHcFwCbMtbWFd1+JkiJdYMjPFIQsCXojZTJRENwwdMBVZIjMah8Nl2TC49Y4gdIOM0dOW0tILLaU6CHj5Sf+Px+8pM/GHJ+fN5/0835yTc46ku3kD/e1Jiu/4KQl40cy42TvrZt+sp4CS/Z//cqWjdHdwobnjQzNxFcnic3I0vIB+OYgxJmNaCVOXWMKcimJJxziyGsea2UGZlUzZKR3TSgRTLIRRuIqn/8WHdNjjoV4OYggFqY2EMUeXsMVjNCQSNKWSvLia5uUHKPPzIntO7JSO0lUco/BN4RB6rwep3umh8Z5Mzb0wh+Qo9UtxXoinaU5lObGaoyW7zsm1fAFlVjJ7MktTPFXoKo5RuMZgBJ1LucNxN7aAjH5O3N3CMsdCSezLGVqS67St/spb2ft0PKBd8KbIXk+s84roNIQSBccg3Jr5CM9MiAPN13xYp8Jop2XqAlEa7iZoDmdojeXpTN2nO7PJ6dwWp9e3C3OXyNrieV6NZDm2kCw4+ikZ3XSIg9e8SJWjTqpdixg8QWzTUezzKdrDOc6sbHAus81A/i8G1rbpS2+I+U/OikzZtYdyNItuvXCMXhmtW6Zq1IVUfukm+olFrE6Zl35epuV2iu5gjt74JsPZ37my9Q+Diwl6fPN8v/U3F7N/8OnKJu/L67TOpQuO5VaQ6h8XeHrkJ6QDX4xz8Oo85ut3abwVotm3TNtMkjMLa/RGfuOCOPjL5BbDqW36Yxv0BPO0B8Qb90Q5NL5I1Q9zlH43w1OXZ3ny8xtImt4x9l/0U/qVn7JLU5SOTHFgZJrSr2co/zZA5ei8eJQdKi7PUfbNLE+IvXrYT9GQl2KBekj8DMPiwz43hvRIzxiq8x5UfS4eEuzqc7PL4eHhAT+7Byd51OGkeNBN0YCg38WeC5OoxE7V7xN4C+5uhwuVw82ej64glZz6mMc7HGg6HajfGUTT/Rn7u4co6uxHI3Jto52m105itr+B5XgrJW8P8lhHP2pxVXcNUCx6xR3n2feu8NrPIhlsFioMemptdVhOvUfTh59wvOsDyg06ynTVlNdqBToqjAbKTSYqTEYqBVW1JmqsFvTWI2gthzEdfRa9zcq/b3yJ5rTWqRsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Working XFCE\"\n        title=\"Working XFCE\"\n        src=\"/static/1585866e7ce759dd6c42f24e58486afb/5a190/Working%20XFCE.png\"\n        srcset=\"/static/1585866e7ce759dd6c42f24e58486afb/772e8/Working%20XFCE.png 200w,\n/static/1585866e7ce759dd6c42f24e58486afb/e17e5/Working%20XFCE.png 400w,\n/static/1585866e7ce759dd6c42f24e58486afb/5a190/Working%20XFCE.png 800w,\n/static/1585866e7ce759dd6c42f24e58486afb/c1b63/Working%20XFCE.png 1200w,\n/static/1585866e7ce759dd6c42f24e58486afb/29007/Working%20XFCE.png 1600w,\n/static/1585866e7ce759dd6c42f24e58486afb/1307b/Working%20XFCE.png 3000w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>if you want to try XFCE like above install</p>\n<pre class=\"grvsc-container abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">sudo apt-get xfce-session</span></span></span></code></pre>\n<p>then once the server is running just run <code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"5\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">xfce-session</span></code> in the terminal</p>\n<p><strong>NOTE</strong> This is a notable difference between WSL 1 and 2. I don't think you\nfollow the same steps with WSL 1</p>\n<p>Once I had that setup, I was able to run things like XFCE from within windows.</p>\n<h2>Running Windows Applications</h2>\n<p>A neat trick of WSL is that if everything is running properly you can actually\nrun windows .exe programs from within WSL. You can try this out by typing\n<code class=\"abyss grvsc-mm-tJ07fR\" data-language=\"bash\" data-index=\"6\"><span class=\"grvsc-t9ljLd-1 grvsc-tJ07fR-1\">explorer.exe </span><span class=\"grvsc-t9ljLd-15 grvsc-tJ07fR-11\">.</span></code> This is a handy trick to open a file explorer in your WSL partition.</p>\n<p>Also handy if you want to run a windows program on files in WSL without manually\nmoving them to Windows. I used this trick to develop Löve2D games from WSL\nand launch them from Windows.</p>\n<p>If you want to see more of my own environment you can check out my\n<a href=\"https://github.com/VVoruganti/dotfiles\">dotfiles</a> on my Github page</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .abyss { background-color: #000c18; }\n  .abyss .grvsc-t9ljLd-1 { color: #6688CC; }\n  .abyss .grvsc-t9ljLd-7 { color: #225588; }\n  .abyss .grvsc-t9ljLd-11 { color: #22AA44; }\n  .abyss .grvsc-t9ljLd-15 { color: #9966B8; }\n  .abyss .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n  \n  /* Monokai dimmed */\n  @media (prefers-color-scheme: dark) {\n    .grvsc-mm-tJ07fR {\n      background-color: #1e1e1e;\n      color: #c5c8c6;\n    }\n    .grvsc-mm-tJ07fR .grvsc-tJ07fR-1 { color: #C5C8C6FF; }\n    .grvsc-mm-tJ07fR .grvsc-tJ07fR-3 { color: #6089B4; }\n    .grvsc-mm-tJ07fR .grvsc-tJ07fR-8 { color: #9AA83A; }\n    .grvsc-mm-tJ07fR .grvsc-tJ07fR-11 { color: #9872A2; }\n    .grvsc-mm-tJ07fR .grvsc-line-highlighted::before {\n      background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n      box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n    }\n  }\n</style>","frontmatter":{"title":"🌠 Turbocharge Windows Development with WSL","date":"05/12/2020","tags":["WSL"]},"excerpt":"I am currently using a Surface Book as my main laptop for everyday work and development.\nInitially, when I was setting up Linux as a dual…"}},"pageContext":{"slug":"/windows-with-wsl/"}}}